import math
from mido import Message, MidiFile, MidiTrack, MetaMessage
from common import *


BPM = 1000. / 3.


if __name__ == '__main__':
    mid = MidiFile(type=1, ticks_per_beat=TICKS_PER_BEAT)
    set_bpm(BPM)
    add_kick(
        mid,
        [0.2,0.26666666666666666,0.26666666666666666,0.43333333333333335,0.23333333333333334,0.5,0.26666666666666666,0.30000000000000004,0.26666666666666666,0.5],
        [7938.000000000001,7938.000000000001,7938.000000000001,7938.000000000001,7938.000000000001,15876.000000000002,7938.000000000001,7938.000000000001,7938.000000000001,15876.00000000000],
        12348.000000000002,
        43
    )
    add_kick(
        mid,
        [0.43333333333333335,0.30000000000000004,0.3666666666666667,0.23333333333333334,0.4666666666666667,0.23333333333333334,0.5,0.26666666666666666,0.26666666666666666,0.26666666666666666],
        [7938.000000000001,7938.000000000001,15876.000000000002,7938.000000000001,7938.000000000001,7938.000000000001,15876.000000000002,7938.000000000001,7938.000000000001,7938.000000000001],
        194922,
        43,
        name='Kick Reverb'
    )
    add_clave(
        mid,
        [0.2,0.26666666666666666,0.26666666666666666,0.43333333333333335,0.23333333333333334,0.5], 
        [15876.000000000002,15876.000000000002,15876.000000000002,15876.000000000002,15876.000000000002,15876.000000000002], 
        393372,
        43,
    )
    add_snare(
        mid,
        [0.43333333333333335,0.30000000000000004,0.3666666666666667,0.23333333333333334,0.4666666666666667,0.23333333333333334,0.5,0.26666666666666666], 
        [15876.000000000002,7938.000000000001,15876.000000000002,7938.000000000001,15876.000000000002,7938.000000000001,15876.000000000002,7938.000000000001], 
        956970.0000000001,
        43,
    )
    add_synth(
        mid,
        [349.2282314330039,0,277.1826309768721,466.1637615180899,369.99442271163446,369.99442271163446,277.1826309768721,277.1826309768721,233.08188075904496,138.59131548843604,92.49860567790861,87.30705785825097,349.2282314330039,0,277.1826309768721,466.1637615180899,369.99442271163446,369.99442271163446,277.1826309768721,277.1826309768721,233.08188075904496,138.59131548843604,92.49860567790861,87.30705785825097,466.1637615180899,155.56349186104043,233.08188075904496,0,92.49860567790861,311.12698372208087,0,233.08188075904496,311.12698372208087,311.12698372208087,369.99442271163446,369.99442271163446,466.1637615180899,155.56349186104043,233.08188075904496,0,92.49860567790861,311.12698372208087,0,233.08188075904496,311.12698372208087,311.12698372208087,369.99442271163446,369.99442271163446,138.59131548843604,138.59131548843604,0,233.08188075904496,0,349.2282314330039,184.99721135581723,369.99442271163446,369.99442271163446,92.49860567790861,349.2282314330039,0,466.1637615180899,116.54094037952248,0,0,277.1826309768721,0,0,277.1826309768721,87.30705785825097,277.1826309768721,174.61411571650194,184.99721135581723,77.78174593052022,92.49860567790861,116.54094037952248,155.56349186104043,233.08188075904496,311.12698372208087,369.99442271163446,369.99442271163446,311.12698372208087,466.1637615180899,311.12698372208087,0,77.78174593052022,92.49860567790861,116.54094037952248,155.56349186104043,233.08188075904496,311.12698372208087,369.99442271163446,369.99442271163446,311.12698372208087,466.1637615180899,311.12698372208087,0,0,349.2282314330039,0,184.99721135581723,349.2282314330039,369.99442271163446,277.1826309768721,138.59131548843604,466.1637615180899,233.08188075904496,277.1826309768721,0,0,349.2282314330039,0,184.99721135581723,349.2282314330039,369.99442271163446,277.1826309768721,138.59131548843604,466.1637615180899,233.08188075904496,277.1826309768721,0,466.1637615180899,369.99442271163446,466.1637615180899,77.78174593052022,92.49860567790861,0,0,0,466.1637615180899,369.99442271163446,466.1637615180899,77.78174593052022,466.1637615180899,369.99442271163446,466.1637615180899,77.78174593052022,92.49860567790861,0,0,0,466.1637615180899,369.99442271163446,466.1637615180899,77.78174593052022], 
        [15876.000000000002], 
        575946,
        2,
    )
    mid.save('LP01.mid')
